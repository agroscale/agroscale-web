---
output: html_document
editor_options: 
  chunk_output_type: console
---
# House hold sample

Anurag Ajay

```
library(pdftools)
library(data.table)
library(tidyverse)
library(plyr)
library(stringr)
library(gtools)
# set directory
parentFolder <- "/Users/apple/Desktop/SurveySampling/Chandauli/LakshmanpurGarh"
setwd(parentFolder)


# to check the pdf files
list.files(parentFolder)


# setting the file path for the parent folder
#readPdf <- file.path(parentFolder)

# listing all the pdf files with full path names
filenames <- list.files(parentFolder, pattern = "*.pdf$")

z <- mixedsort(sort(filenames))

y <- sapply(z, pdf_text)

# ************************************************** #

w <- str_extract_all(y,"ककपन ससखनप : \\d{1,4}")  # <- ककपन ससखनप  for UPo कगकह सपखयच : for Bihar
# ************************************************** #
u <- str_extract_all(w, "[0-9.]+")

x <- lapply(u, unique)


for (i in seq_along(x)) {
  filename = paste(z[[i]],".csv", sep = "")
  write.table(x[i],filename, row.names = FALSE, col.names = FALSE)
}

files <- list.files(pattern="*.csv")

allFiles <- llply(files, read.csv)

combined <- do.call("rbind", allFiles)

read_csv_filename <- function(files){
  ret <- read.csv(files)
  ret$Source <- files
  ret
}

allFiles <- ldply(files, read_csv_filename)

write.csv(allFiles, "finalHHNumber.csv")
```
